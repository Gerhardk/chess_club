<div class="container">
  <%= bootstrap_form_for(@match, layout: :horizontal, label_col: "col-sm-2", control_col: "col-sm-10") do |f| %>
    <% if @match.errors.any? %>
      <div id="error_explanation">
        <strong>
          <%= "#{pluralize(@match.errors.count, "error")} prohibited this block from being saved:" %>
        </strong>
        <ol>
          <% @match.errors.full_messages.each do |msg| %>
            <li>
              <%= msg %>
            </li>
          <% end %>
        </ol>
      </div>
    <% end %>

    <div class="form-group row">
      <div class="col">
        <%= f.collection_select :player_one_id, Member.all, :id, :fullname, { prompt: "Select a Member" } %>
      </div>
    </div>
    <div class="form-group row">
      <div class="col">
        <%= f.collection_select :player_two_id, Member.all, :id, :fullname, { prompt: "Select a Member" } %>
      </div>
    </div>
    <div class="form-group row">
      <div class="col">
        <%= f.date_field :date %>
      </div>
    </div>
    <div class="form-group row" id="outcome">
      <div class="col">
        <%= f.select :outcome, Match.outcomes.keys.to_a, { prompt: "Select a Outcome" } %>
      </div>
    </div>
    <div id="outcome-members" >
      <div class="form-group row hidden-fields">
        <div class="col">
          <%= f.collection_select :winner_id, Member.all, :id, :fullname, { prompt: "Select a Member" } %>
        </div>
      </div>
      <div class="form-group row hidden-fields">
        <div class="col">
          <%= f.collection_select :loser_id, Member.all, :id, :fullname, { prompt: "Select a Member" } %>
        </div>
      </div>
    </div>
    <div class="actions">
      <%= f.submit class: 'btn btn-primary'%>
    </div>
  <% end %>
</div>